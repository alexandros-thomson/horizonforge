<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="HorizonForge ‚Äî real-time collaborative world-building for Meta Horizon. Try the demo and see multi-user editing, AI suggestions, and smart asset generation." />
  <title>HorizonForge - Collaborative World Building</title>
  <style>
    :root{
      --accent-1:#667eea;
      --accent-2:#764ba2;
      --bg-grad: linear-gradient(135deg,var(--accent-1) 0%, var(--accent-2) 100%);
      --panel-bg: rgba(255,255,255,0.96);
      --glass: rgba(255,255,255,0.85);
      --text-dark:#222;
      --muted:#666;
      --focus: 3px solid rgba(102,126,234,0.25);
      --ui-radius:10px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin:0;
      min-height:100vh;
      background:var(--bg-grad);
      color:var(--text-dark);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:stretch;
      justify-content:center;
      padding:18px;
    }

    /* Container */
    .demo-shell{
      width:100%;
      max-width:1400px;
      height:calc(100vh - 36px);
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 20px 60px rgba(0,0,0,0.25);
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.02));
      display:grid;
      grid-template-columns: 280px 1fr 260px;
    }

    /* Header (visually overlayed but in DOM first for accessibility) */
    header.header{
      grid-column:1/-1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 22px;
      background:var(--panel-bg);
      border-bottom:1px solid rgba(0,0,0,0.06);
      position:relative;
      z-index:40;
    }
    .logo{
      font-weight:800;
      font-size:20px;
      background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    .project-name{font-size:14px;color:var(--text-dark);margin-left:12px;font-weight:600}
    .header-actions{display:flex;gap:10px;align-items:center}
    .action-btn{
      padding:8px 14px;border-radius:8px;border:2px solid var(--accent-1);
      background:white;color:var(--accent-1);font-weight:700;cursor:pointer;
    }
    .action-btn.primary{background:var(--accent-1);color:white;border-color:transparent}
    .action-btn:focus{outline:none; box-shadow:var(--focus)}

    /* Sidebars */
    aside.tool-sidebar, aside.collab-sidebar{
      padding:22px;
      background:var(--panel-bg);
      overflow:auto;
    }
    aside.tool-sidebar{border-right:1px solid rgba(0,0,0,0.05)}
    aside.collab-sidebar{border-left:1px solid rgba(0,0,0,0.05)}

    /* Main viewport */
    main.main-viewport{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="skyGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:%23ff6b35;stop-opacity=1" /><stop offset="100%" style="stop-color:%23f7931e;stop-opacity=1" /></linearGradient></defs><rect width="1200" height="400" fill="url(%23skyGrad)"/><polygon points="0,400 300,250 600,200 900,180 1200,150 1200,800 0,800" fill="%23654321"/><circle cx="200" cy="300" r="80" fill="%23333" opacity="0.6"/><circle cx="800" cy="250" r="120" fill="%23333" opacity="0.6"/><circle cx="1000" cy="280" r="60" fill="%23333" opacity="0.6"/></svg>') center/cover no-repeat;
      gap:12px;
    }

    /* Make the main area responsive and add inner canvas */
    .viewport-wrap{
      width:92%;
      height:86%;
      border-radius:12px;
      position:relative;
      overflow:hidden;
      background:linear-gradient(180deg, rgba(0,0,0,0.04), rgba(255,255,255,0.02));
      box-shadow:inset 0 2px 14px rgba(0,0,0,0.15);
    }

    /* Collaboration cursors (accessible demo-only) */
    .collab-cursor{
      position:absolute;
      width:20px;height:20px;border-radius:50%;border:3px solid white;
      box-shadow:0 6px 18px rgba(0,0,0,0.25);display:flex;align-items:center;justify-content:center;
      font-size:11px;color:white;font-weight:700;transform:translate(-50%,-50%);
      will-change:transform,opacity;
    }
    .cursor-alex{background:#00d4aa}
    .cursor-sam{background:#ff6b9d}
    .cursor-jordan{background:#4ecdc4}

    /* Labels */
    .user-label{
      position:absolute;background:rgba(0,0,0,0.7);color:white;padding:6px 10px;border-radius:14px;font-size:13px;font-weight:700;
      transform:translate(-50%,-120%);
      white-space:nowrap;
    }

    /* Building indicators */
    .build-indicator{position:absolute;border:2px dashed;border-radius:6px;animation:building 1.6s infinite}
    .indicator-1{width:100px;height:80px;border-color:#00d4aa;top:38%;left:22%}
    .indicator-2{width:120px;height:60px;border-color:#ff6b9d;top:42%;right:30%}
    @keyframes building{0%,100%{opacity:.7;transform:scale(1)}50%{opacity:1;transform:scale(1.03)}}

    /* Sidebar content */
    .tool-section{margin-bottom:20px}
    .tool-section h3{font-size:12px;color:var(--text-dark);text-transform:uppercase;letter-spacing:1px;margin-bottom:10px}
    .tool-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    .tool-btn{aspect-ratio:1;background:#f7f8fb;border:1px solid #e8eaf0;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;cursor:pointer}
    .tool-btn:focus{outline:none;box-shadow:var(--focus)}
    .tool-btn.active{background:var(--accent-1);color:white;border-color:transparent}

    .ai-panel{padding:12px;border-radius:12px;background:linear-gradient(135deg,var(--accent-1),var(--accent-2));color:white;margin-bottom:16px}
    .ai-suggestion{background:rgba(255,255,255,0.08);padding:8px;border-radius:8px;margin:8px 0;cursor:pointer}
    .ai-suggestion:focus{outline:none;box-shadow:var(--focus)}

    .collaborator{display:flex;gap:12px;padding:12px 0;border-bottom:1px solid rgba(0,0,0,0.03)}
    .collab-avatar{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .avatar-alex{background:#00d4aa}.avatar-sam{background:#ff6b9d}.avatar-jordan{background:#4ecdc4}
    .collab-status{font-size:13px;color:var(--muted)}

    /* Project stats box */
    .stats{margin-top:18px;padding:12px;background:#f7f8fb;border-radius:8px;font-size:13px;color:var(--muted)}

    /* Focus states and accessible adjustments */
    button, [role="button"]{font:inherit}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}
    /* Small screens */
    @media (max-width:1100px){
      .demo-shell{grid-template-columns: 220px 1fr; grid-template-rows: auto 1fr}
      aside.collab-sidebar{display:none}
      header.header{grid-column:1/3}
    }
  </style>
</head>
<body>
  <div class="demo-shell" role="application" aria-label="HorizonForge interactive demo">
    <!-- Header -->
    <header class="header" role="banner" aria-hidden="false">
      <div style="display:flex;align-items:center;gap:8px">
        <div class="logo" aria-hidden="true">HorizonForge</div>
        <div class="project-name" aria-hidden="true">üè∞ Medieval Fantasy Realm</div>
      </div>
      <div class="header-actions" role="toolbar" aria-label="Project actions">
        <button class="action-btn" type="button" aria-label="Save project">Save</button>
        <button class="action-btn" type="button" aria-label="Share project">Share</button>
        <button class="action-btn primary" type="button" aria-label="Publish project">Publish</button>
      </div>
    </header>

    <!-- Left Sidebar - Tools -->
    <aside class="tool-sidebar" role="region" aria-labelledby="tools-heading">
      <h2 id="tools-heading" class="sr-only">Tools and assistant</h2>

      <!-- AI Assistant -->
      <div class="ai-panel" aria-live="polite" aria-atomic="true">
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
          <div class="ai-avatar" aria-hidden="true" style="width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.18)">ü§ñ</div>
          <strong>AI Assistant</strong>
        </div>
        <button class="ai-suggestion" type="button" tabindex="0">üí° Add medieval torches for atmosphere</button>
        <button class="ai-suggestion" type="button" tabindex="0">üè∞ Suggest castle wall textures</button>
        <button class="ai-suggestion" type="button" tabindex="0">üåô Generate moonlight ambiance</button>
      </div>

      <!-- Building Tools -->
      <section class="tool-section" aria-labelledby="building-tools">
        <h3 id="building-tools">Building Tools</h3>
        <div class="tool-grid" role="group" aria-label="Building tools">
          <button class="tool-btn active" aria-pressed="true" title="Blocks">üß±</button>
          <button class="tool-btn" title="Structural">üèóÔ∏è</button>
          <button class="tool-btn" title="Paint">üé®</button>
          <button class="tool-btn" title="Lights">üí°</button>
          <button class="tool-btn" title="Foliage">üåø</button>
          <button class="tool-btn" title="Props">üíé</button>
        </div>
      </section>

      <!-- Smart Assets -->
      <section class="tool-section" aria-labelledby="smart-assets">
        <h3 id="smart-assets">Smart Assets</h3>
        <div class="tool-grid" role="group" aria-label="Smart assets">
          <button class="tool-btn" title="Castle">üè∞</button>
          <button class="tool-btn" title="Tree">üå≥</button>
          <button class="tool-btn" title="Mountain">‚õ∞Ô∏è</button>
          <button class="tool-btn" title="Water">üåä</button>
          <button class="tool-btn" title="Fire">üî•</button>
          <button class="tool-btn" title="Star">‚≠ê</button>
        </div>
      </section>

      <!-- Collaboration tools -->
      <section class="tool-section" aria-labelledby="collaboration-tools">
        <h3 id="collaboration-tools">Collaboration</h3>
        <div class="tool-grid">
          <button class="tool-btn" title="Participants">üë•</button>
          <button class="tool-btn" title="Chat">üí¨</button>
          <button class="tool-btn" title="Screenshot">üì∏</button>
          <button class="tool-btn" title="Record">üé•</button>
          <button class="tool-btn" title="Export">üì§</button>
          <button class="tool-btn" title="Settings">‚öôÔ∏è</button>
        </div>
      </section>
    </aside>

    <!-- Main Viewport -->
    <main class="main-viewport" role="main" aria-label="Main building viewport">
      <div class="viewport-wrap" id="viewport" aria-live="off" tabindex="0">
        <!-- Demo cursors and labels -->
        <div class="collab-cursor cursor-alex" id="cursor-alex" aria-hidden="true" title="Alex"></div>
        <div class="collab-cursor cursor-sam" id="cursor-sam" aria-hidden="true" title="Sam"></div>
        <div class="collab-cursor cursor-jordan" id="cursor-jordan" aria-hidden="true" title="Jordan"></div>

        <div class="user-label" id="label-alex" style="left:25%;top:30%">Alex_Builder</div>
        <div class="user-label" id="label-sam" style="right:35%;top:45%">Sam_Designer</div>
        <div class="user-label" id="label-jordan" style="left:60%;bottom:40%">Jordan_Architect</div>

        <div class="build-indicator indicator-1" aria-hidden="true"></div>
        <div class="build-indicator indicator-2" aria-hidden="true"></div>

        <!-- Fallback description for screen readers -->
        <p class="sr-only">This interactive demo simulates collaborative editing: colored cursors, labels, and build indicators show active builders and edit regions.</p>
      </div>
    </main>

    <!-- Right Sidebar - Collaborators -->
    <aside class="collab-sidebar" role="region" aria-labelledby="collab-heading">
      <h2 id="collab-heading" class="sr-only">Collaborators and project stats</h2>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
        <h3 style="font-size:16px;margin:0;color:var(--text-dark)">Collaborators</h3>
        <button class="action-btn invite-btn" type="button" aria-label="Invite collaborator">+ Invite</button>
      </div>

      <div class="collaborator" role="group" aria-label="Alex">
        <div class="collab-avatar avatar-alex" aria-hidden="true">A</div>
        <div>
          <div style="font-weight:700">Alex_Builder</div>
          <div class="collab-status">üî® Building castle walls</div>
        </div>
      </div>

      <div class="collaborator" role="group" aria-label="Sam">
        <div class="collab-avatar avatar-sam" aria-hidden="true">S</div>
        <div>
          <div style="font-weight:700">Sam_Designer</div>
          <div class="collab-status">üé® Adding textures</div>
        </div>
      </div>

      <div class="collaborator" role="group" aria-label="Jordan">
        <div class="collab-avatar avatar-jordan" aria-hidden="true">J</div>
        <div>
          <div style="font-weight:700">Jordan_Architect</div>
          <div class="collab-status">üìê Planning layout</div>
        </div>
      </div>

      <div class="stats" aria-live="polite">
        <div style="font-weight:700;margin-bottom:6px">Project Stats</div>
        <div>‚è±Ô∏è Session: <span id="session-time">2h 34m</span></div>
        <div>üéØ Objects: <span id="object-count">247</span></div>
        <div>üë• Contributors: <span id="contributors">3</span></div>
        <div>üíæ Last Save: <span id="last-save">2m ago</span></div>
      </div>
    </aside>
  </div>

  <noscript>
    <div style="position:fixed;left:12px;bottom:12px;background:#fff;padding:10px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.12)">
      JavaScript is disabled ‚Äî for a richer demo enable JavaScript. The static layout will still display.
    </div>
  </noscript>

  <script>
    // Lightweight demo script: animate demo cursors and update accessible status.
    (function(){
      const cursors = [
        {el: document.getElementById('cursor-alex'), label: document.getElementById('label-alex')},
        {el: document.getElementById('cursor-sam'), label: document.getElementById('label-sam')},
        {el: document.getElementById('cursor-jordan'), label: document.getElementById('label-jordan')}
      ];

      // Simple path positions to make demo lively
      const paths = [
        [{x:24,y:30},{x:28,y:34},{x:26,y:28},{x:24,y:30}],
        [{x:75,y:45},{x:72,y:42},{x:70,y:48},{x:75,y:45}],
        [{x:60,y:62},{x:62,y:58},{x:58,y:55},{x:60,y:62}]
      ];

      function lerp(a,b,t){return a+(b-a)*t}
      function animateCursor(cursor, path, offset){
        let i = 0, t = 0;
        function step(){
          t += 0.02;
          if(t >= 1){ t = 0; i = (i+1) % path.length }
          const cur = path[i], next = path[(i+1)%path.length];
          const x = lerp(cur.x, next.x, t), y = lerp(cur.y, next.y, t);
          cursor.el.style.left = x + '%';
          cursor.el.style.top = y + '%';
          cursor.label.style.left = x + '%';
          cursor.label.style.top = (y - 5) + '%';
          requestAnimationFrame(step);
        }
        setTimeout(()=>requestAnimationFrame(step), offset);
      }

      // Kick off animations
      cursors.forEach((c, idx)=> animateCursor(c, paths[idx], idx*250));

      // Accessibility: periodically update session "Last Save"
      const lastSaveEl = document.getElementById('last-save');
      setInterval(()=> {
        const now = new Date();
        lastSaveEl.textContent = Math.floor(Math.random()*5 + 1) + 'm ago';
      }, 15000);

      // Demo tooltips / keyboard hints: focus outlines are included via CSS
      // Note: For a production demo replace data-URI background with optimized image assets and hook into real sync events.
    })();
  </script>
</body>
</html>
